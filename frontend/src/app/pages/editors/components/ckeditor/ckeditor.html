<div class="widgets">


<div class="row">
	<div class="col-xlg-12 col-lg-12  col-md-12 col-sm-12 col-xs-12 typography-widget">
  		<ba-card title="General Project Information" baCardClass="with-scroll heading-widget">
       		<div *ngIf = "project" class="section-block">
	        	<p>STATUS - {{project[0].status}}</p>
		        <br />
		        <p>Project ID - {{project[0].projectID}}</p>
		        <p>Current Phase - {{project[0].currentPhase}}</p>
		        <p>Locaton - {{project[0].location}}</p>
		        <p>Type - {{project[0].projectType}}</p>
		        <p>Size - {{project[0].size}}</p>
        	</div>
     	</ba-card>
  	</div>
</div>

<div class="row">
	<div class="col-xlg-6 col-lg-6  col-md-6 col-sm-6">
		<ba-card title="Project Editor Action" baCardClass="with-scroll">
			<form>
  				<div class="form-group">
  					<label for="exampleSelect1">Select Action</label>
  					<select class="form-control" id="exampleSelect1" #actionSelect>
				   	 	<option value='Add'>Add</option>
				    	<option value='Update'>Update</option>
				    	<option value='View'>View</option>
  					</select>
				</div>
  				<button type="submit" (click)="selectAction(actionSelect.value)" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
	<!-- ADD -->
	<div *ngIf="chosenAction == 'Add'" class="col-xlg-6 col-lg-6  col-md-6 col-sm-6">
		<ba-card title="Add" baCardClass="with-scroll">
			<form>
  				<div class="form-group">
  					<label for="exampleSelect1">Add a...</label>
  					<select class="form-control" id="exampleSelect1" #formSelect1>
				   	 	<option value='Phase'>Phase</option>
				    	<option value='Task'>Task</option>
				    	<option value='Order'>Order</option>
  					</select>
				</div>
  				<button type="submit" (click)="selectForm(formSelect1.value)" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
	<!-- UPDATE-->
	<div *ngIf="chosenAction == 'Update'" class="col-xlg-6 col-lg-6  col-md-6 col-sm-6">
		<ba-card title="Update" baCardClass="with-scroll">
			<form>
  				<div class="form-group">
  					<label for="exampleSelect1">Update...</label>
  					<select class="form-control" id="exampleSelect1" #formSelect2>
				   	 	<option value='Status'>Project Status</option>
				    	<option value='Payment'>Order Payment Status</option>
  					</select>
				</div>
  				<button type="submit" (click)="selectForm(formSelect2.value)" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
	<!-- VIEW -->
	<div *ngIf="chosenAction == 'View'" class="col-xlg-6 col-lg-6  col-md-6 col-sm-6">
		<ba-card title="View" baCardClass="with-scroll">
			<form>
  				<div class="form-group">
  					<label for="exampleSelect1">View...</label>
  					<select class="form-control" id="exampleSelect1" #formSelect3>
				   	 	<option value='Phases'>Phases</option>
				    	<option value='Orders'>Orders</option>
				    	<option value='Finances'>Financial Report</option>
  					</select>
				</div>
  				<button type="submit" (click)="selectForm(formSelect3.value)" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>

</div>
<!--Form for adding a phase-->
<div *ngIf="chosenForm == 'Phase'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Form" baCardClass="with-scroll">
			<h5>Add A Phase</h5>
			<form>
		 		<div class="form-group">
				    <input type="text" class="form-control" id="phaseTitle" placeholder="Phase Title">
		  		</div>
			  	<div class="form-group">
			    	<textarea class="form-control" placeholder="Description"></textarea>
			  	</div>
			  	<div class="form-group">
				    <input type="text" class="form-control" id="estimatedCost" placeholder="Estimated Cost">
		  		</div>
		  		<div class="form-group">
				    <input type="text" class="form-control" id="estimatedCost" placeholder="Estimated Time To Completed (hours)">
		  		</div>
		 		 <button type="submit" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
</div>
<!--Form for adding a task-->
<div *ngIf="chosenForm == 'Task'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Form" baCardClass="with-scroll">
			<h5>Add A Task</h5>
			<form>
			<div class="form-group">
  					<label for="projectStatuses">Select associated Phase</label>
  					<select class="form-control" id="projectStatuses">
				   	 	<option>1</option>
				    	<option>2</option>
  					</select>
				</div>
		 		<div class="form-group">
				    <input type="text" class="form-control" id="taskTitle" placeholder="Task Title">
		  		</div>
		 		<button type="submit" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
</div>

<!--Form for adding an order-->
<div *ngIf="chosenForm == 'Order'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Form" baCardClass="with-scroll">
			<h5>Add An Order</h5>
			<div class="form-group">
  				<label for="exampleSelect1">Choose a supplier</label>
  				<select class="form-control" id="suppliers">
					<option>List of suppliers here</option>
  				</select>
			</div>

			<!--Will only appear after supplier is selected -->
			<div class="horizontal-scroll">
				<table class="table table-bordered">
				    <thead>
					    <tr>
					      <th>Select</th>
					      <th>Product ID</th>
					      <th>Name</th>
					      <th>Supplier</th>
					      <th>Cost</th>
					    </tr>
					    </thead>
					    <tbody>
					    <tr *ngFor="let item of metricsTableData">
					      <td><img src="{{ ( item.image | baAppPicture )}}" width="20" height="20"></td>
					      <td ngClass="nowrap">{{ item.browser }}</td>
					      <td class="align-right">{{ item.visits }}</td>
					      <td class="align-right">{{ item.purchases }}</td>
					      <td class="align-right">{{ item.percent }}</td>
					    </tr>
				    </tbody>
				</table>
			</div>
			<div class="align-right">

			</div>
			<div class="align-right">
				<p>Total Cost: </p>
				<form>
					<button type="submit" class="btn btn-danger">Calculate Cost</button>
		 			<button type="submit" class="btn btn-danger">Place Order</button>
				</form>
			</div>
		</ba-card>
	</div>
</div>

<!-- Stuff for UPDATE -->
<!-- Update status -->
<div *ngIf="chosenForm == 'Status'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Form" baCardClass="with-scroll">
			<h5>Update Project Status</h5>
			<p>Current Status = {{project[0].status}}</p>
			<form>
		 		<div class="form-group">
  					<label for="projectStatuses">Select Status</label>
  					<select class="form-control" id="projectStatuses" #statusOption>
				   	 	<option value="Planning">Planning</option>
				    	<option value="In Progress">In Progress</option>
				    	<option value="Completed">Completed</option>
  					</select>
				</div>
		 		<button (click)="updateStatus(statusOption.value, project[0].projectID)" type="submit" class="btn btn-danger">Submit</button>
			</form>
		</ba-card>
	</div>
</div>

<!-- Update payment status -->
<div *ngIf="chosenForm == 'Payment'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Form" baCardClass="with-scroll">
			<h5>Update Order Payment Status</h5>
			<div class="horizontal-scroll">
				<table class="table table-bordered">
				    <thead>
					    <tr>
					      <th>Order ID</th>
					      <th>Current Payment Status</th>
					      <th>Set Payment Status To</th>
					      <th>Update Status</th>
					    </tr>
					    </thead>
					    <tbody>
					    <tr *ngFor="let item of orders">
					      <td ngClass="nowrap">{{ item.orderID }}</td>
					      <td class="align-right">{{ item.orderStatus }}</td>
					      <td>
					      	<select class="form-control" #paymentOption>
					      		<option value="Paid">Paid</option>
					      		<option value="Unpaid">Unpaid</option>
					      	</select>
					      </td>
					      <td>
					      	<form>
		 						<button (click)="updateOrderPaymentStatus(paymentOption.value, item.orderID)" type="submit" class="btn btn-danger">Submit</button>
							</form>
					      </td>
					    </tr>
				    </tbody>
				</table>
			</div>
		</ba-card>
	</div>
</div>

<!-- Stuff for View-->
<!-- Orders-->
<div *ngIf="chosenForm == 'Orders'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Report" baCardClass="with-scroll">
			<h5>Orders</h5>
			<p>To view products:</p>
			<p>New Tab -> Click phase ID</p>
			<p>Same window -> Click icon</p>
			<div class="horizontal-scroll">
				<table class="table table-bordered">
				    <thead>
					    <tr>
					      <th></th>
					      <th>Order ID</th>
					      <th>Delivery Date</th>
					      <th>Total Cost</th>
					      <th>Order Status</th>
					    </tr>
					    </thead>
					    <tbody>
					    <tr *ngFor="let item of orders">
					      <td><button (click)="goToProducts(item.orderID,id)" type="button" class="btn btn-info btn-icon"><i class="ion-information"></i></button>
					      <td ngClass="nowrap"><a [routerLink]="'/pages/products/'+id+'/'+item.orderID" routerLinkActive="active" target="_blank">{{ item.orderID }}</a></td>
					      <td class="align-right">{{ item.deliveryDate }}</td>
					      <td class="align-right">{{ item.totalCost }}</td>
					      <td class="align-right">{{ item.orderStatus }}</td>
					    </tr>
				    </tbody>
				</table>
			</div>
		</ba-card>
	</div>
</div>
<!-- Phases -->
<div *ngIf="chosenForm == 'Phases'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Report" baCardClass="with-scroll">
			<h5>Phases</h5>
			<p>To view tasks:</p>
			<p>New Tab -> Click phase number</p>
			<p>Same window -> Click icon</p>
			<div class="horizontal-scroll">
				<table class="table table-bordered">
				    <thead>
					    <tr>
					      <th></th>
					      <th>Phase Number</th>
					      <th>Title</th>
					      <th>Estimated Duration</th>
					      <th>Estimated Cost</th>
					    </tr>
					    </thead>
					    <tbody>
					    <tr *ngFor="let item of phases">
					      <td><button (click)="goToTasks(item.phaseNumber,id)" type="button" class="btn btn-info btn-icon"><i class="ion-information"></i></button></td>
					      <td ngClass="nowrap"><a [routerLink]="'/pages/tasks/'+id+'/'+item.phaseNumber" routerLinkActive="active" target="_blank">{{ item.phaseNumber }}</a></td>
					      <td class="align-right">{{ item.title }}</td>
					      <td>not added yet</td>
					      <td class="align-right">{{ item.estimatedCost }}</td>
					    </tr>

				    </tbody>
				</table>
			</div>
		</ba-card>
	</div>
</div>

<!-- Financial Report -->
<div *ngIf="chosenForm == 'Finances'" class="row">
	<div class="col-xlg-12 col-lg-12 col-md-12 col-sm-12">
		<ba-card title="Report" baCardClass="with-scroll">
			<h5>Financial Report</h5>
			<p>Put financeRecordID here</p>
			<div class="horizontal-scroll">
				<table class="table table-bordered">
				    <thead>
					    <tr>
					      <th>Finance Record ID</th>
					      <th>Estimated Total Cost</th>
					      <th>Total Cost To Date</th>
					      <th>Remaining Funds</th>
					    </tr>
					    </thead>
					    <tbody>
					    <tr *ngFor="let item of finances">
					      <td ngClass="nowrap">{{ item.financeRecordID }}</td>
					      <td class="align-right">{{ item.estimatedTotalCost }}</td>
					      <td class="align-right">{{ item.totalCostToDate }}</td>
					      <td class="align-right">Calculate remaining cost</td>
					    </tr>
				    </tbody>
				</table>
			</div>
		</ba-card>
	</div>
</div>

</div>